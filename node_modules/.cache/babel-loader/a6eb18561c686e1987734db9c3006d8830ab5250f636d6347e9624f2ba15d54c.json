{"ast":null,"code":"import React,{useState}from'react';import{Link,useLocation,useNavigate}from'react-router-dom';import{GoogleLogin}from'@react-oauth/google';import{jwtDecode}from'jwt-decode';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function LoginForm(){const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[showPassword,setShowPassword]=useState(false);const location=useLocation();const navigate=useNavigate();const togglePassword=()=>setShowPassword(prev=>!prev);const handleManualLogin=e=>{e.preventDefault();const storedUser=JSON.parse(localStorage.getItem('registeredUser'));if(!storedUser){alert('❌ No user found. Please sign up.');return;}if(email===storedUser.email&&password===storedUser.password){localStorage.setItem('user',JSON.stringify(storedUser));navigate('/main');// ✅ Updated to match route\n}else{alert('❌ Invalid credentials');}};const handleGoogleLoginSuccess=credentialResponse=>{try{const decoded=jwtDecode(credentialResponse.credential);console.log('✅ Google Login Success:',decoded);localStorage.setItem('user',JSON.stringify(decoded));navigate('/main');// ✅ Updated to match route\n}catch(err){console.error('Google decoding error',err);}};const handleGoogleLoginError=()=>{console.error('Google Login Failed');};return/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:handleManualLogin,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",required:true,value:email,onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsxs(\"div\",{className:\"password-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword?'text':'password',placeholder:\"Password\",required:true,value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"toggle-password\",onClick:togglePassword,children:showPassword?'Hide':'Show'})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"}),/*#__PURE__*/_jsx(\"div\",{style:{margin:'20px 0'},children:/*#__PURE__*/_jsx(GoogleLogin,{onSuccess:handleGoogleLoginSuccess,onError:handleGoogleLoginError})}),/*#__PURE__*/_jsx(\"div\",{className:\"login-link\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Don't have an account?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:location.pathname==='/signup'?'active':'',children:\"Sign Up\"})]})})]});}export default LoginForm;","map":{"version":3,"names":["React","useState","Link","useLocation","useNavigate","GoogleLogin","jwtDecode","jsx","_jsx","jsxs","_jsxs","LoginForm","email","setEmail","password","setPassword","showPassword","setShowPassword","location","navigate","togglePassword","prev","handleManualLogin","e","preventDefault","storedUser","JSON","parse","localStorage","getItem","alert","setItem","stringify","handleGoogleLoginSuccess","credentialResponse","decoded","credential","console","log","err","error","handleGoogleLoginError","className","onSubmit","children","type","placeholder","required","value","onChange","target","onClick","style","margin","onSuccess","onError","to","pathname"],"sources":["D:/OneDrive/Desktop/prj/intern_ass/reachinbox-assignment/src/components/LoginForm.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport { GoogleLogin } from '@react-oauth/google';\r\nimport {jwtDecode} from 'jwt-decode';\r\n\r\nfunction LoginForm() {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n\r\n  const togglePassword = () => setShowPassword((prev) => !prev);\r\n\r\n  const handleManualLogin = (e) => {\r\n    e.preventDefault();\r\n\r\n    const storedUser = JSON.parse(localStorage.getItem('registeredUser'));\r\n\r\n    if (!storedUser) {\r\n      alert('❌ No user found. Please sign up.');\r\n      return;\r\n    }\r\n\r\n    if (email === storedUser.email && password === storedUser.password) {\r\n      localStorage.setItem('user', JSON.stringify(storedUser));\r\n      navigate('/main'); // ✅ Updated to match route\r\n    } else {\r\n      alert('❌ Invalid credentials');\r\n    }\r\n  };\r\n\r\n  const handleGoogleLoginSuccess = (credentialResponse) => {\r\n    try {\r\n      const decoded = jwtDecode(credentialResponse.credential);\r\n      console.log('✅ Google Login Success:', decoded);\r\n\r\n      localStorage.setItem('user', JSON.stringify(decoded));\r\n      navigate('/main'); // ✅ Updated to match route\r\n    } catch (err) {\r\n      console.error('Google decoding error', err);\r\n    }\r\n  };\r\n\r\n  const handleGoogleLoginError = () => {\r\n    console.error('Google Login Failed');\r\n  };\r\n\r\n  return (\r\n    <form className=\"form\" onSubmit={handleManualLogin}>\r\n      <h2>Login</h2>\r\n\r\n      <input\r\n        type=\"email\"\r\n        placeholder=\"Email\"\r\n        required\r\n        value={email}\r\n        onChange={(e) => setEmail(e.target.value)}\r\n      />\r\n\r\n      <div className=\"password-container\">\r\n        <input\r\n          type={showPassword ? 'text' : 'password'}\r\n          placeholder=\"Password\"\r\n          required\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n        <button\r\n          type=\"button\"\r\n          className=\"toggle-password\"\r\n          onClick={togglePassword}\r\n        >\r\n          {showPassword ? 'Hide' : 'Show'}\r\n        </button>\r\n      </div>\r\n\r\n      <button type=\"submit\">Login</button>\r\n\r\n      <div style={{ margin: '20px 0' }}>\r\n        <GoogleLogin\r\n          onSuccess={handleGoogleLoginSuccess}\r\n          onError={handleGoogleLoginError}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"login-link\">\r\n        <p>\r\n          Don&apos;t have an account?{' '}\r\n          <Link\r\n            to=\"/signup\"\r\n            className={location.pathname === '/signup' ? 'active' : ''}\r\n          >\r\n            Sign Up\r\n          </Link>\r\n        </p>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default LoginForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}